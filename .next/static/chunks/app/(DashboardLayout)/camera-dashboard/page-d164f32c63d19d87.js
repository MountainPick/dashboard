(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[756],{2963:function(e,n,t){Promise.resolve().then(t.bind(t,5166))},5166:function(e,n,t){"use strict";t.r(n);var a=t(7437),r=t(2265),i=t(6507),o=t(8024),s=t(2277),c=t(5795),l=t(3701),d=t(6988),x=t(8489),h=t(666),j=t(3226),m=t(9279),u=t(7827),Z=t(8874),p=t(3878),g=t(4033);let f=[{id:"1",name:"Front Door Camera",location:"Entrance",model:"SecureCam Pro",status:"Online",statusColor:"success.main",lastMaintenance:"2023-05-15"},{id:"2",name:"Backyard Camera",location:"Rear Garden",model:"OutdoorVision X",status:"Disabled",statusColor:"error.main",lastMaintenance:"2023-04-20"},{id:"3",name:"Garage Camera",location:"Garage",model:"SecureCam Lite",status:"Disabled",statusColor:"error.main",lastMaintenance:"2023-05-10"},{id:"4",name:"Living Room Camera",location:"Living Room",model:"IndoorVision 360",status:"Disabled",statusColor:"error.main",lastMaintenance:"2023-05-18"}],b=()=>{let e=(0,g.useSearchParams)(),n=e.get("cameraId"),[t,o]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=window.location.hostname,n=new WebSocket("ws://".concat(e,":8000/ws"));return n.onmessage=e=>{let n=JSON.parse(e.data);"frame"===n.type&&o("data:image/jpeg;base64,".concat(n.frame))},n.onclose=()=>{console.log("WebSocket closed. Attempting to reconnect..."),setTimeout(()=>{window.location.reload()},1e3)},n.onerror=e=>{console.error("WebSocket Error: ",e)},()=>{n.close()}},[]),(0,a.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"200px",backgroundColor:"#F0F4FF"},children:[(0,a.jsxs)(j.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:["Camera Stream ",n]}),(0,a.jsx)(i.Z,{component:"img",src:t,alt:"Live Video Stream",sx:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"5px"}})]})};n.default=()=>{let[e,n]=(0,r.useState)(0),t=(0,g.useRouter)(),v=e=>{"1"===e&&t.push("/camera-stream?cameraId=".concat(e))};return(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(o.Z,{value:e,onChange:(e,t)=>{n(t)},children:[(0,a.jsx)(s.Z,{label:"List View"}),(0,a.jsx)(s.Z,{label:"Grid View"})]}),0===e&&(0,a.jsx)(c.Z,{children:(0,a.jsxs)(l.Z,{"aria-label":"camera list table",children:[(0,a.jsx)(d.Z,{children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(h.Z,{children:(0,a.jsx)(j.Z,{color:"textSecondary",variant:"h6",children:"Id"})}),(0,a.jsx)(h.Z,{children:(0,a.jsx)(j.Z,{color:"textSecondary",variant:"h6",children:"Name"})}),(0,a.jsx)(h.Z,{children:(0,a.jsx)(j.Z,{color:"textSecondary",variant:"h6",children:"Location"})}),(0,a.jsx)(h.Z,{children:(0,a.jsx)(j.Z,{color:"textSecondary",variant:"h6",children:"Status"})}),(0,a.jsx)(h.Z,{align:"right",children:(0,a.jsx)(j.Z,{color:"textSecondary",variant:"h6",children:"Last Maintenance"})})]})}),(0,a.jsx)(m.Z,{children:f.map(e=>(0,a.jsxs)(x.Z,{onClick:()=>v(e.id),sx:{cursor:"1"===e.id?"pointer":"not-allowed","&:hover":"1"===e.id?{backgroundColor:"action.hover"}:{},opacity:"1"===e.id?1:.5},children:[(0,a.jsx)(h.Z,{children:(0,a.jsx)(j.Z,{fontSize:"15px",fontWeight:500,children:e.id})}),(0,a.jsx)(h.Z,{children:(0,a.jsx)(i.Z,{display:"flex",alignItems:"center",children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(j.Z,{variant:"h6",fontWeight:600,children:e.name}),(0,a.jsx)(j.Z,{color:"textSecondary",fontSize:"13px",children:e.model})]})})}),(0,a.jsx)(h.Z,{children:(0,a.jsx)(j.Z,{color:"textSecondary",variant:"h6",children:e.location})}),(0,a.jsx)(h.Z,{children:(0,a.jsx)(u.Z,{sx:{pl:"4px",pr:"4px",backgroundColor:e.statusColor,color:"#fff"},size:"small",label:e.status})}),(0,a.jsx)(h.Z,{align:"right",children:(0,a.jsx)(j.Z,{variant:"h6",children:e.lastMaintenance})})]},e.id))})]})}),1===e&&(0,a.jsx)(Z.ZP,{container:!0,spacing:2,children:f.map(e=>(0,a.jsx)(Z.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(p.Z,{children:(0,a.jsxs)(i.Z,{onClick:()=>v(e.id),sx:{cursor:"1"===e.id?"pointer":"not-allowed","&:hover":"1"===e.id?{backgroundColor:"action.hover"}:{},opacity:"1"===e.id?1:.5},children:["1"===e.id?(0,a.jsx)(b,{}):(0,a.jsx)("img",{src:"Disabled"===e.status?"https://t4.ftcdn.net/jpg/04/35/65/05/360_F_435650529_fdtx8euYTrcxH5NEAWONH2zQYOEWfgrA.jpg":"/images/camera/camera-1.jpg",alt:e.name,style:{width:"100%",height:"200px",objectFit:"cover"}}),(0,a.jsxs)(i.Z,{p:2,children:[(0,a.jsx)(j.Z,{variant:"h6",fontWeight:600,children:e.name}),(0,a.jsx)(j.Z,{color:"textSecondary",fontSize:"13px",children:e.model}),(0,a.jsxs)(j.Z,{color:"textSecondary",variant:"body2",children:["Location: ",e.location]}),(0,a.jsxs)(i.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1,children:[(0,a.jsx)(u.Z,{sx:{pl:"4px",pr:"4px",backgroundColor:e.statusColor,color:"#fff"},size:"small",label:e.status}),(0,a.jsxs)(j.Z,{variant:"body2",children:["Last Maintenance: ",e.lastMaintenance]})]})]})]})})},e.id))})]})}},3878:function(e,n,t){"use strict";var a=t(7437);t(2265);var r=t(5133),i=t(8469),o=t(3226),s=t(3457),c=t(6507);n.Z=e=>{let{title:n,subtitle:t,children:l,action:d,footer:x,cardheading:h,headtitle:j,headsubtitle:m,middlecontent:u}=e;return(0,a.jsxs)(r.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[h?(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(o.Z,{variant:"h3",children:j}),(0,a.jsx)(o.Z,{variant:"subtitle2",color:"textSecondary",children:m})]}):(0,a.jsxs)(i.Z,{sx:{p:"30px"},children:[n?(0,a.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,a.jsxs)(c.Z,{children:[n?(0,a.jsx)(o.Z,{variant:"h3",children:n}):"",t?(0,a.jsx)(o.Z,{variant:"subtitle2",color:"textSecondary",children:t}):""]}),d]}):null,l]}),u,x]})}},4033:function(e,n,t){e.exports=t(8165)}},function(e){e.O(0,[370,468,238,116,659,853,859,863,971,596,744],function(){return e(e.s=2963)}),_N_E=e.O()}]);
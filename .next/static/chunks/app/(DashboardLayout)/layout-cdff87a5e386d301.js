(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{9965:function(e,r,t){Promise.resolve().then(t.bind(t,2720))},2720:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return el}});var i=t(7437),n=t(5843),a=t(8938),l=t(6507),o=t(2265),s=t(4033),c=t(6500),h=t(4989),d=t(2653),x=t(3457),p=t(4275),u=t.n(p),g=t(1101),m=t(3283),j=t(3226),Z=t(3068),f=t(4404),b=t(3724),w=t(9832),v=t(837),k=t(7390),y=t(8723),C=()=>{(0,s.useRouter)();let[e,r]=(0,o.useState)(null),t=(0,g.Z)();t.palette.primary.main,t.palette.primary.light,t.palette.error.main,t.palette.error.light,t.palette.success.main,t.palette.success.light,w.Z,v.Z,k.Z;let n=localStorage.getItem("username")||"User";return(0,i.jsxs)(l.Z,{children:[(0,i.jsxs)(d.Z,{size:"large","aria-label":"menu",color:"inherit","aria-controls":"msgs-menu","aria-haspopup":"true",sx:{..."object"==typeof e&&{borderRadius:"9px"}},onClick:e=>{r(e.currentTarget)},children:[(0,i.jsx)(m.Z,{alt:"ProfileImg",sx:{width:30,height:30}}),(0,i.jsxs)(l.Z,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center"},children:[(0,i.jsx)(j.Z,{color:"textSecondary",variant:"h5",fontWeight:"400",sx:{ml:1},children:"Hi,"}),(0,i.jsx)(j.Z,{variant:"h5",fontWeight:"700",sx:{ml:1},children:n}),(0,i.jsx)(y.Z,{width:"20",height:"20"})]})]}),(0,i.jsxs)(Z.Z,{id:"msgs-menu",anchorEl:e,keepMounted:!0,open:!!e,onClose:()=>{r(null)},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},sx:{"& .MuiMenu-paper":{width:"360px",p:2,pb:2,pt:0}},children:[(0,i.jsx)(l.Z,{pt:0}),(0,i.jsx)(f.Z,{}),(0,i.jsx)(l.Z,{mt:2,children:(0,i.jsx)(b.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{localStorage.removeItem("isLoggedIn"),window.location.href="login"},children:"Logout"})})]})]})},S=t(4111),P=t(715),I=t(7192),M=t(4480),N=()=>{let[e,r]=(0,o.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{"aria-label":"show 4 new mails",color:"inherit","aria-controls":"search-menu","aria-haspopup":"true",onClick:()=>r(!0),size:"large",children:(0,i.jsx)(I.Z,{height:"20",width:"20",strokeWidth:"1.5"})}),(0,i.jsx)(S.ZP,{anchor:"top",open:e,onClose:()=>r(!1),sx:{"& .MuiDrawer-paper":{padding:"15px 30px"}},children:(0,i.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,i.jsx)(P.Z,{placeholder:"Search here","aria-label":"description",fullWidth:!0}),(0,i.jsx)(l.Z,{sx:{ml:"auto"},children:(0,i.jsx)(d.Z,{onClick:()=>{r(!1)},children:(0,i.jsx)(M.Z,{height:"20",width:"20"})})})]})})]})},_=t(1799),z=t(5266),E=t(9299),O=t(3393),W=t(7780),A=t(8569),F=()=>{let[e,r]=(0,o.useState)(null),[t,n]=(0,o.useState)([]),a=(0,s.useRouter)();(0,o.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:8000/notifications");if(!e.ok)throw Error("Network response was not ok");let r=await e.json();console.log("data",r),n(r)}catch(e){console.error("Error fetching notifications:",e),n([])}};e();let r=setInterval(e,15e3);return()=>clearInterval(r)},[]);let c=()=>{r(null)},h=e=>{a.push("/notification-details?camera_id=".concat(e.camera_id,"&frame_id=").concat(e.frame_id)),c()};return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(d.Z,{size:"large","aria-label":"show notifications",color:"inherit",onClick:e=>{r(e.currentTarget)},children:(0,i.jsx)(_.Z,{badgeContent:t.length,color:"error",children:(0,i.jsx)(A.Z,{width:"20",height:"20"})})}),(0,i.jsxs)(Z.Z,{id:"notifications-menu",anchorEl:e,keepMounted:!0,open:!!e,onClose:c,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},sx:{"& .MuiMenu-paper":{width:"360px",p:2,pb:2,pt:0}},children:[(0,i.jsx)(l.Z,{pt:2,pb:1,children:(0,i.jsx)(j.Z,{variant:"h6",children:"Notifications"})}),(0,i.jsx)(z.Z,{children:Array.isArray(t)&&t.map(e=>(0,i.jsxs)(E.ZP,{alignItems:"flex-start",onClick:()=>h(e),sx:{cursor:"pointer"},children:[(0,i.jsx)(O.Z,{children:(0,i.jsx)(m.Z,{alt:"User Avatar",src:e.avatar})}),(0,i.jsx)(W.Z,{primary:e.title,secondary:e.description})]},e.id))}),(0,i.jsx)(l.Z,{mt:2,children:(0,i.jsx)(b.Z,{fullWidth:!0,variant:"contained",color:"primary",children:"View All Notifications"})})]})]})},L=t(9715);let R=e=>{let{toggleMobileSidebar:r}=e,t=(0,n.ZP)(c.Z)(e=>{let{theme:r}=e;return{boxShadow:"none",background:r.palette.background.paper,justifyContent:"center",backdropFilter:"blur(4px)",[r.breakpoints.up("lg")]:{minHeight:"70px"}}}),a=(0,n.ZP)(h.Z)(e=>{let{theme:r}=e;return{width:"100%",color:r.palette.text.secondary}});return(0,i.jsx)(t,{position:"sticky",color:"default",children:(0,i.jsxs)(a,{children:[(0,i.jsx)(d.Z,{color:"inherit","aria-label":"menu",onClick:r,sx:{display:{lg:"none",xs:"inline"}},children:(0,i.jsx)(L.Z,{width:"20",height:"20"})}),(0,i.jsx)(N,{}),(0,i.jsx)(l.Z,{flexGrow:1}),(0,i.jsxs)(x.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,i.jsx)(F,{}),(0,i.jsx)(C,{})]})]})})};R.propTypes={sx:u().object};var B=t(2135),D=t(1396),H=t.n(D),T=t(6691),G=t.n(T);let U=(0,n.ZP)(H())(()=>({height:"100px",width:"180px",overflow:"hidden",display:"block"}));var V=()=>(0,i.jsx)(U,{href:"/",children:(0,i.jsx)(G(),{src:"/images/logos/neuweb.png",alt:"logo",height:100,width:100,priority:!0})}),Y=t(6707),q=t(4562),J=t(5574),K=t.n(J);let Q=[{id:K()(),title:"Cameras",icon:Y.Z,href:"/camera-dashboard"},{id:K()(),title:"Management",icon:q.Z,href:"/management"}];var X=t(2502),$=t(6358),ee=e=>{let{item:r,level:t,pathDirect:a,onClick:l}=e,o=r.icon,s=(0,g.Z)(),c=(0,i.jsx)(o,{stroke:1.5,size:"1.3rem"}),h=(0,n.ZP)(E.ZP)(()=>({padding:0,".MuiButtonBase-root":{whiteSpace:"nowrap",marginBottom:"8px",padding:"8px 10px",borderRadius:"8px",backgroundColor:t>1?"transparent !important":"inherit",color:s.palette.text.secondary,paddingLeft:"10px","&:hover":{backgroundColor:s.palette.primary.light,color:s.palette.primary.main},"&.Mui-selected":{color:"white",backgroundColor:s.palette.primary.main,"&:hover":{backgroundColor:s.palette.primary.main,color:"white"}}}}));return(0,i.jsx)(z.Z,{component:"div",disablePadding:!0,children:(0,i.jsx)(h,{children:(0,i.jsxs)(X.Z,{component:H(),href:r.href,disabled:r.disabled,selected:a===r.href,target:r.external?"_blank":"",onClick:l,children:[(0,i.jsx)($.Z,{sx:{minWidth:"36px",p:"3px 0",color:"inherit"},children:c}),(0,i.jsx)(W.Z,{children:(0,i.jsx)(i.Fragment,{children:r.title})})]})})},r.id)},er=e=>{let{toggleMobileSidebar:r}=e,t=(0,s.usePathname)();return(0,i.jsx)(l.Z,{sx:{px:2},children:(0,i.jsx)(z.Z,{sx:{pt:0},className:"sidebarNav",component:"div",children:Q.map(e=>(0,i.jsx)(ee,{item:e,pathDirect:t,onClick:r},e.id))})})},et=e=>{let{isMobileSidebarOpen:r,onSidebarClose:t,isSidebarOpen:n}=e,a=(0,B.Z)(e=>e.breakpoints.up("lg")),o="270px";return a?(0,i.jsx)(l.Z,{sx:{width:o,flexShrink:0},children:(0,i.jsx)(S.ZP,{anchor:"left",open:n,variant:"permanent",PaperProps:{sx:{width:o,boxSizing:"border-box",border:"0",boxShadow:"rgba(113, 122, 131, 0.11) 0px 7px 30px 0px"}},children:(0,i.jsxs)(l.Z,{sx:{height:"100%"},py:2,children:[(0,i.jsx)(l.Z,{px:2,children:(0,i.jsx)(V,{})}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(l.Z,{mt:3,children:(0,i.jsx)(er,{})})})]})})}):(0,i.jsxs)(S.ZP,{anchor:"left",open:r,onClose:t,variant:"temporary",PaperProps:{sx:{width:o,boxShadow:e=>e.shadows[8]}},children:[(0,i.jsx)(l.Z,{px:2,py:2,children:(0,i.jsx)(V,{})}),(0,i.jsx)(er,{})]})},ei=t(4966);let en=(0,n.ZP)("div")(()=>({display:"flex",minHeight:"100vh",width:"100%"})),ea=(0,n.ZP)("div")(()=>({display:"flex",flexGrow:1,paddingBottom:"60px",flexDirection:"column",zIndex:1,backgroundColor:"transparent"}));function el(e){let{children:r}=e,[t,n]=(0,o.useState)(!0),[c,h]=(0,o.useState)(!1),[d,x]=(0,o.useState)(null),p=(0,s.useRouter)();return((0,o.useEffect)(()=>{let e=async()=>{let e=await eo();x(e),e||p.push("/login")};e()},[p]),null===d)?(0,i.jsx)("div",{children:"Loading..."}):d?(0,i.jsxs)(en,{className:"mainwrapper",children:[(0,i.jsx)(et,{isSidebarOpen:t,isMobileSidebarOpen:c,onSidebarClose:()=>h(!1)}),(0,i.jsxs)(ea,{className:"page-wrapper",children:[(0,i.jsx)(R,{toggleMobileSidebar:()=>h(!0)}),(0,i.jsxs)(a.Z,{sx:{paddingTop:"20px",maxWidth:"1200px"},children:[(0,i.jsx)(l.Z,{sx:{minHeight:"calc(100vh - 170px)"},children:r}),(0,i.jsx)(ei.default,{})]})]})]}):(0,i.jsx)(i.Fragment,{children:r})}async function eo(){let e="true"===localStorage.getItem("isLoggedIn");return e}},4966:function(e,r,t){"use strict";t.r(r);var i=t(7437);t(2265);var n=t(6507),a=t(3226),l=t(1396),o=t.n(l);r.default=()=>(0,i.jsx)(n.Z,{sx:{pt:6,textAlign:"center"},children:(0,i.jsxs)(a.Z,{children:["\xa9 ",new Date().getFullYear()," All rights reserved by"," ",(0,i.jsx)(o(),{href:"neuwbetech.com",children:"Neuwebtech.com"})," "]})})}},function(e){e.O(0,[370,468,238,937,810,80,396,691,955,971,596,744],function(){return e(e.s=9965)}),_N_E=e.O()}]);
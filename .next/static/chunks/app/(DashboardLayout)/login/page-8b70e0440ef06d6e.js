(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{8938:function(e,t,a){"use strict";a.d(t,{Z:function(){return S}});var n=a(791),r=a(3428),o=a(2265),i=a(7042),s=a(5702),l=a(5600),u=a(1380),d=a(8153),m=a(9190),p=a(1061),h=a(7437);let g=["className","component","disableGutters","fixed","maxWidth","classes"],c=(0,p.Z)(),v=(0,m.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,u.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),f=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:c}),x=(e,t)=>{let{classes:a,fixed:n,disableGutters:r,maxWidth:o}=e,i={root:["root",o&&`maxWidth${(0,u.Z)(String(o))}`,n&&"fixed",r&&"disableGutters"]};return(0,l.Z)(i,e=>(0,s.ZP)(t,e),a)};var b=a(8702),Z=a(5843),y=a(7927);let w=function(e={}){let{createStyledComponent:t=v,useThemeProps:a=f,componentName:s="MuiContainer"}=e,l=t(({theme:e,ownerState:t})=>(0,r.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,a)=>{let n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:`${n}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,r.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),u=o.forwardRef(function(e,t){let o=a(e),{className:u,component:d="div",disableGutters:m=!1,fixed:p=!1,maxWidth:c="lg"}=o,v=(0,n.Z)(o,g),f=(0,r.Z)({},o,{component:d,disableGutters:m,fixed:p,maxWidth:c}),b=x(f,s);return(0,h.jsx)(l,(0,r.Z)({as:d,ownerState:f,className:(0,i.Z)(b.root,u),ref:t},v))});return u}({createStyledComponent:(0,Z.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,b.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.Z)({props:e,name:"MuiContainer"})});var S=w},9872:function(e,t,a){"use strict";a.d(t,{Z:function(){return Z}});var n=a(791),r=a(3428),o=a(2265),i=a(7042),s=a(5600),l=a(2810),u=a(5843),d=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2),m=a(7927),p=a(6520),h=a(5702);function g(e){return(0,h.ZP)("MuiPaper",e)}(0,p.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var c=a(7437);let v=["className","component","elevation","square","variant"],f=e=>{let{square:t,elevation:a,variant:n,classes:r}=e,o={root:["root",n,!t&&"rounded","elevation"===n&&`elevation${a}`]};return(0,s.Z)(o,g,r)},x=(0,u.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],!a.square&&t.rounded,"elevation"===a.variant&&t[`elevation${a.elevation}`]]}})(({theme:e,ownerState:t})=>{var a;return(0,r.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,r.Z)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,l.Fq)("#fff",d(t.elevation))}, ${(0,l.Fq)("#fff",d(t.elevation))})`},e.vars&&{backgroundImage:null==(a=e.vars.overlays)?void 0:a[t.elevation]}))}),b=o.forwardRef(function(e,t){let a=(0,m.Z)({props:e,name:"MuiPaper"}),{className:o,component:s="div",elevation:l=1,square:u=!1,variant:d="elevation"}=a,p=(0,n.Z)(a,v),h=(0,r.Z)({},a,{component:s,elevation:l,square:u,variant:d}),g=f(h);return(0,c.jsx)(x,(0,r.Z)({as:s,ownerState:h,className:(0,i.Z)(g.root,o),ref:t},p))});var Z=b},3226:function(e,t,a){"use strict";a.d(t,{Z:function(){return S}});var n=a(791),r=a(3428),o=a(2265),i=a(7042),s=a(3381),l=a(5600),u=a(5843),d=a(7927),m=a(8702),p=a(6520),h=a(5702);function g(e){return(0,h.ZP)("MuiTypography",e)}(0,p.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var c=a(7437);let v=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],f=e=>{let{align:t,gutterBottom:a,noWrap:n,paragraph:r,variant:o,classes:i}=e,s={root:["root",o,"inherit"!==e.align&&`align${(0,m.Z)(t)}`,a&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return(0,l.Z)(s,g,i)},x=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t[`align${(0,m.Z)(a.align)}`],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,r.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Z={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=e=>Z[e]||e,w=o.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiTypography"}),o=y(a.color),l=(0,s.Z)((0,r.Z)({},a,{color:o})),{align:u="inherit",className:m,component:p,gutterBottom:h=!1,noWrap:g=!1,paragraph:Z=!1,variant:w="body1",variantMapping:S=b}=l,C=(0,n.Z)(l,v),W=(0,r.Z)({},l,{align:u,color:o,className:m,component:p,gutterBottom:h,noWrap:g,paragraph:Z,variant:w,variantMapping:S}),j=p||(Z?"p":S[w]||b[w])||"span",k=f(W);return(0,c.jsx)(x,(0,r.Z)({as:j,ref:t,ownerState:W,className:(0,i.Z)(k.root,m)},C))});var S=w},9190:function(e,t,a){"use strict";var n=a(5602);let r=(0,n.ZP)();t.Z=r},1184:function(e,t,a){Promise.resolve().then(a.bind(a,8346))},8346:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=a(7437),r=a(2265),o=a(8938),i=a(6507),s=a(8024),l=a(2277),u=a(3226),d=a(886),m=a(3724);function p(){let[e,t]=(0,r.useState)(0),[a,p]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[c,v]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),[b,Z]=(0,r.useState)(""),[y,w]=(0,r.useState)(""),S=async e=>{e.preventDefault();let t=await fetch("http://13.239.150.70:8000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:h})});if(t.ok){let e=await t.json();e.user_id?1===e.user_record.is_connected_milestone?(alert("Login successful! Redirecting to camera dashboard..."),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",a),window.location.href="/camera-dashboard"):x(!0):x(!1)}else alert("Login failed. Please try again.")},C=async e=>{e.preventDefault();let t=await fetch("http://13.239.150.70:8000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,username:a,password:h})});t.ok?(alert("Sign up successful!"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",a)):alert("Sign up failed. Please try again.")},W=async e=>{e.preventDefault();let t=await fetch("http://13.239.150.70:8000/connect_milestone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,milestoneusername:b,milestonepassword:y})});t.ok?(alert("Connected to Milestone successfully!"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",a),window.location.href="/camera-dashboard"):alert("Connection to Milestone failed. Please try again.")};return(0,n.jsx)(o.Z,{component:"main",maxWidth:"xs",children:(0,n.jsxs)(i.Z,{sx:{marginTop:8},children:[(0,n.jsxs)(s.Z,{value:e,onChange:(e,a)=>{t(a)},centered:!0,children:[(0,n.jsx)(l.Z,{label:"Login"}),(0,n.jsx)(l.Z,{label:"Sign Up"})]}),0===e&&!f&&(0,n.jsxs)(i.Z,{component:"form",onSubmit:S,noValidate:!0,sx:{mt:1},children:[(0,n.jsx)(u.Z,{component:"h1",variant:"h5",children:"Login"}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:a,onChange:e=>p(e.target.value)}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:h,onChange:e=>g(e.target.value)}),(0,n.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]}),f&&(0,n.jsxs)(i.Z,{component:"form",onSubmit:W,noValidate:!0,sx:{mt:1},children:[(0,n.jsx)(u.Z,{component:"h1",variant:"h5",children:"Connect with Milestone"}),(0,n.jsx)("img",{src:"https://seeklogo.com/images/M/Milestone_Systems-logo-A40F19BC8A-seeklogo.com.png",alt:"Milestone Logo",style:{width:"100%",marginBottom:"16px"}}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"milestone-username",label:"Milestone Username",name:"milestoneUsername",value:b,onChange:e=>Z(e.target.value)}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"milestone-password",label:"Milestone Password",type:"password",name:"milestonePassword",value:y,onChange:e=>w(e.target.value)}),(0,n.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Connect"})]}),1===e&&(0,n.jsxs)(i.Z,{component:"form",onSubmit:C,noValidate:!0,sx:{mt:1},children:[(0,n.jsx)(u.Z,{component:"h1",variant:"h5",children:"Sign Up"}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",value:c,onChange:e=>v(e.target.value)}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"signup-username",label:"Username",name:"username",autoComplete:"username",value:a,onChange:e=>p(e.target.value)}),(0,n.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"signup-password",autoComplete:"new-password",value:h,onChange:e=>g(e.target.value)}),(0,n.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"})]})]})})}}},function(e){e.O(0,[370,468,937,853,79,886,863,971,596,744],function(){return e(e.s=1184)}),_N_E=e.O()}]);
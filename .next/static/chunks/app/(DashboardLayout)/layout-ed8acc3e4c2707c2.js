(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{9965:function(e,r,t){Promise.resolve().then(t.bind(t,2720))},2720:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return es}});var i=t(7437),n=t(5843),s=t(8938),l=t(6507),a=t(2265),o=t(4033),c=t(6500),d=t(4989),h=t(2653),x=t(3457),p=t(4275),u=t.n(p),g=t(1101),j=t(3283),m=t(3226),Z=t(3068),b=t(4404),f=t(3724),w=t(9832),k=t(837),v=t(7390),y=t(8723),S=()=>{let e=(0,o.useRouter)(),[r,t]=(0,a.useState)(null),n=(0,g.Z)();return n.palette.primary.main,n.palette.primary.light,n.palette.error.main,n.palette.error.light,n.palette.success.main,n.palette.success.light,w.Z,k.Z,v.Z,(0,i.jsxs)(l.Z,{children:[(0,i.jsxs)(h.Z,{size:"large","aria-label":"menu",color:"inherit","aria-controls":"msgs-menu","aria-haspopup":"true",sx:{..."object"==typeof r&&{borderRadius:"9px"}},onClick:e=>{t(e.currentTarget)},children:[(0,i.jsx)(j.Z,{src:"/images/users/user2.jpg",alt:"ProfileImg",sx:{width:30,height:30}}),(0,i.jsxs)(l.Z,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center"},children:[(0,i.jsx)(m.Z,{color:"textSecondary",variant:"h5",fontWeight:"400",sx:{ml:1},children:"Hi,"}),(0,i.jsx)(m.Z,{variant:"h5",fontWeight:"700",sx:{ml:1},children:"Julia"}),(0,i.jsx)(y.Z,{width:"20",height:"20"})]})]}),(0,i.jsxs)(Z.Z,{id:"msgs-menu",anchorEl:r,keepMounted:!0,open:!!r,onClose:()=>{t(null)},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},sx:{"& .MuiMenu-paper":{width:"360px",p:2,pb:2,pt:0}},children:[(0,i.jsx)(l.Z,{pt:0}),(0,i.jsx)(b.Z,{}),(0,i.jsx)(l.Z,{mt:2,children:(0,i.jsx)(f.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{localStorage.removeItem("isLoggedIn"),e.push("/login")},children:"Logout"})})]})]})},C=t(4111),P=t(715),M=t(7192),N=t(4480),W=()=>{let[e,r]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{"aria-label":"show 4 new mails",color:"inherit","aria-controls":"search-menu","aria-haspopup":"true",onClick:()=>r(!0),size:"large",children:(0,i.jsx)(M.Z,{height:"20",width:"20",strokeWidth:"1.5"})}),(0,i.jsx)(C.ZP,{anchor:"top",open:e,onClose:()=>r(!1),sx:{"& .MuiDrawer-paper":{padding:"15px 30px"}},children:(0,i.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,i.jsx)(P.Z,{placeholder:"Search here","aria-label":"description",fullWidth:!0}),(0,i.jsx)(l.Z,{sx:{ml:"auto"},children:(0,i.jsx)(h.Z,{onClick:()=>{r(!1)},children:(0,i.jsx)(N.Z,{height:"20",width:"20"})})})]})})]})},z=t(1799),I=t(5266),_=t(9299),O=t(3393),E=t(7780),F=t(8569),L=()=>{let[e,r]=(0,a.useState)(null),[t,n]=(0,a.useState)([]),s=(0,o.useRouter)();(0,a.useEffect)(()=>{let e=new WebSocket("ws://localhost:8000/ws");return e.onopen=()=>{console.log("WebSocket connection established")},e.onmessage=e=>{let r=JSON.parse(e.data);"notification"===r.type&&n(e=>[...e,r])},e.onerror=e=>{console.error("WebSocket error:",e)},()=>{e.close()}},[]);let c=()=>{r(null)},d=e=>{s.push("/notification-details?camera_id=".concat(e.camera.id,"&frame_id=").concat(e.frame_id)),c()};return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(h.Z,{size:"large","aria-label":"show notifications",color:"inherit",onClick:e=>{r(e.currentTarget)},children:(0,i.jsx)(z.Z,{badgeContent:t.length,color:"error",children:(0,i.jsx)(F.Z,{width:"20",height:"20"})})}),(0,i.jsxs)(Z.Z,{id:"notifications-menu",anchorEl:e,keepMounted:!0,open:!!e,onClose:c,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},sx:{"& .MuiMenu-paper":{width:"360px",p:2,pb:2,pt:0}},children:[(0,i.jsx)(l.Z,{pt:2,pb:1,children:(0,i.jsx)(m.Z,{variant:"h6",children:"Notifications"})}),(0,i.jsx)(I.Z,{children:t.map(e=>(0,i.jsxs)(_.ZP,{alignItems:"flex-start",onClick:()=>d(e),sx:{cursor:"pointer"},children:[(0,i.jsx)(O.Z,{children:(0,i.jsx)(j.Z,{alt:"User Avatar",src:e.avatar})}),(0,i.jsx)(E.Z,{primary:e.title,secondary:e.description})]},e.id))}),(0,i.jsx)(l.Z,{mt:2,children:(0,i.jsx)(f.Z,{fullWidth:!0,variant:"contained",color:"primary",children:"View All Notifications"})})]})]})},R=t(9715);let A=e=>{let{toggleMobileSidebar:r}=e,t=(0,n.ZP)(c.Z)(e=>{let{theme:r}=e;return{boxShadow:"none",background:r.palette.background.paper,justifyContent:"center",backdropFilter:"blur(4px)",[r.breakpoints.up("lg")]:{minHeight:"70px"}}}),s=(0,n.ZP)(d.Z)(e=>{let{theme:r}=e;return{width:"100%",color:r.palette.text.secondary}});return(0,i.jsx)(t,{position:"sticky",color:"default",children:(0,i.jsxs)(s,{children:[(0,i.jsx)(h.Z,{color:"inherit","aria-label":"menu",onClick:r,sx:{display:{lg:"none",xs:"inline"}},children:(0,i.jsx)(R.Z,{width:"20",height:"20"})}),(0,i.jsx)(W,{}),(0,i.jsx)(l.Z,{flexGrow:1}),(0,i.jsxs)(x.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,i.jsx)(L,{}),(0,i.jsx)(S,{})]})]})})};A.propTypes={sx:u().object};var B=t(2135),D=t(1396),H=t.n(D),T=t(6691),G=t.n(T);let J=(0,n.ZP)(H())(()=>({height:"100px",width:"180px",overflow:"hidden",display:"block"}));var U=()=>(0,i.jsx)(J,{href:"/",children:(0,i.jsx)(G(),{src:"/images/logos/neuweb.png",alt:"logo",height:100,width:100,priority:!0})}),V=t(6707),Y=t(5574),q=t.n(Y);let K=[{id:q()(),title:"Cameras",icon:V.Z,href:"/camera-dashboard"}];var Q=t(2502),X=t(6358),$=e=>{let{item:r,level:t,pathDirect:s,onClick:l}=e,a=r.icon,o=(0,g.Z)(),c=(0,i.jsx)(a,{stroke:1.5,size:"1.3rem"}),d=(0,n.ZP)(_.ZP)(()=>({padding:0,".MuiButtonBase-root":{whiteSpace:"nowrap",marginBottom:"8px",padding:"8px 10px",borderRadius:"8px",backgroundColor:t>1?"transparent !important":"inherit",color:o.palette.text.secondary,paddingLeft:"10px","&:hover":{backgroundColor:o.palette.primary.light,color:o.palette.primary.main},"&.Mui-selected":{color:"white",backgroundColor:o.palette.primary.main,"&:hover":{backgroundColor:o.palette.primary.main,color:"white"}}}}));return(0,i.jsx)(I.Z,{component:"div",disablePadding:!0,children:(0,i.jsx)(d,{children:(0,i.jsxs)(Q.Z,{component:H(),href:r.href,disabled:r.disabled,selected:s===r.href,target:r.external?"_blank":"",onClick:l,children:[(0,i.jsx)(X.Z,{sx:{minWidth:"36px",p:"3px 0",color:"inherit"},children:c}),(0,i.jsx)(E.Z,{children:(0,i.jsx)(i.Fragment,{children:r.title})})]})})},r.id)},ee=e=>{let{toggleMobileSidebar:r}=e,t=(0,o.usePathname)();return(0,i.jsx)(l.Z,{sx:{px:2},children:(0,i.jsx)(I.Z,{sx:{pt:0},className:"sidebarNav",component:"div",children:K.map(e=>(0,i.jsx)($,{item:e,pathDirect:t,onClick:r},e.id))})})},er=e=>{let{isMobileSidebarOpen:r,onSidebarClose:t,isSidebarOpen:n}=e,s=(0,B.Z)(e=>e.breakpoints.up("lg")),a="270px";return s?(0,i.jsx)(l.Z,{sx:{width:a,flexShrink:0},children:(0,i.jsx)(C.ZP,{anchor:"left",open:n,variant:"permanent",PaperProps:{sx:{width:a,boxSizing:"border-box",border:"0",boxShadow:"rgba(113, 122, 131, 0.11) 0px 7px 30px 0px"}},children:(0,i.jsxs)(l.Z,{sx:{height:"100%"},py:2,children:[(0,i.jsx)(l.Z,{px:2,children:(0,i.jsx)(U,{})}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(l.Z,{mt:3,children:(0,i.jsx)(ee,{})})})]})})}):(0,i.jsxs)(C.ZP,{anchor:"left",open:r,onClose:t,variant:"temporary",PaperProps:{sx:{width:a,boxShadow:e=>e.shadows[8]}},children:[(0,i.jsx)(l.Z,{px:2,py:2,children:(0,i.jsx)(U,{})}),(0,i.jsx)(ee,{})]})},et=t(4966);let ei=(0,n.ZP)("div")(()=>({display:"flex",minHeight:"100vh",width:"100%"})),en=(0,n.ZP)("div")(()=>({display:"flex",flexGrow:1,paddingBottom:"60px",flexDirection:"column",zIndex:1,backgroundColor:"transparent"}));function es(e){let{children:r}=e,[t,n]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),p=(0,o.useRouter)();return((0,a.useEffect)(()=>{let e=async()=>{let e=await el();x(e),e||p.push("/login")};e()},[p]),null===h)?(0,i.jsx)("div",{children:"Loading..."}):h?(0,i.jsxs)(ei,{className:"mainwrapper",children:[(0,i.jsx)(er,{isSidebarOpen:t,isMobileSidebarOpen:c,onSidebarClose:()=>d(!1)}),(0,i.jsxs)(en,{className:"page-wrapper",children:[(0,i.jsx)(A,{toggleMobileSidebar:()=>d(!0)}),(0,i.jsxs)(s.Z,{sx:{paddingTop:"20px",maxWidth:"1200px"},children:[(0,i.jsx)(l.Z,{sx:{minHeight:"calc(100vh - 170px)"},children:r}),(0,i.jsx)(et.default,{})]})]})]}):(0,i.jsx)(i.Fragment,{children:r})}async function el(){let e="true"===localStorage.getItem("isLoggedIn");return e}},4966:function(e,r,t){"use strict";t.r(r);var i=t(7437);t(2265);var n=t(6507),s=t(3226),l=t(1396),a=t.n(l);r.default=()=>(0,i.jsx)(n.Z,{sx:{pt:6,textAlign:"center"},children:(0,i.jsxs)(s.Z,{children:["\xa9 ",new Date().getFullYear()," All rights reserved by"," ",(0,i.jsx)(a(),{href:"neuwbetech.com",children:"Neuwebtech.com"})," "]})})}},function(e){e.O(0,[370,468,498,659,238,79,691,396,653,971,596,744],function(){return e(e.s=9965)}),_N_E=e.O()}]);